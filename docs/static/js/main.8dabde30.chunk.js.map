{"version":3,"sources":["components/TextInput.js","generate-diff.js","components/Container.js","App.js","index.js"],"names":["TextInput","props","handleChange","bind","event","this","onTextInputChange","id","value","target","style","paddingBottom","title","onChange","defaultValue","React","Component","tableFormat","before","after","removed","added","updated","Headers","depDisplay","dep","substring","url","join","map","str","split","format","Object","keys","push","output","length","defaultFormat","Container","textInputChange","getDiff","state","packageBefore","JSON","stringify","ExampleBefore","packageAfter","ExampleAfter","diff","setState","parse","dependencies","result","GenerateDiff","e","console","log","onClick","i","key","navigator","clipboard","writeText","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8dabde30.chunk.js","sourcesContent":["import React from 'react'\n\nclass TextInput extends React.Component {\n  constructor (props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange (event) {\n    this.props.onTextInputChange({ id: this.props.id, value: event.target.value })\n  }\n\n  render () {\n    return (\n      <div style={{paddingBottom: '20px'}}>\n        <div>\n          {this.props.title}\n        </div>\n        <textarea onChange={this.handleChange} defaultValue={this.props.value} />\n      </div>\n    )\n  }\n}\n\nexport default TextInput\n","const defaultFormat = (before, after, removed, added, updated) => {\n  const output = []\n\n  output.push('Removed:')\n\n  for (const dep of removed) {\n    output.push(`> ${dep}`)\n  }\n\n  if (!removed.length) output.push('N/A')\n\n  output.push('\\nAdded:')\n\n  for (const dep of added) {\n    output.push(`> ${dep} [${after[dep]}](https://github.com/${dep.substring(1)}/blob/master/CHANGELOG.md)`)\n  }\n\n  if (!added.length) output.push('N/A')\n\n  output.push('\\nUpdated:')\n\n  for (const dep of updated) {\n    output.push(`> ${dep} ${before[dep]} -> [${after[dep]}](https://github.com/${dep.substring(1)}/blob/master/CHANGELOG.md)`)\n  }\n\n  if (!updated.length) output.push('N/A')\n\n  return output\n}\n\nconst tableFormat = (before, after, removed, added, updated) => {\n  const Headers = ['Dependency', 'Before', 'After']\n  const strToHyphen = str => str.split('').map(() => '-').join('')\n  const url = dep => `[${after[dep]}](https://github.com/${dep.substring(1)}/blob/master/CHANGELOG.md)`\n  const depDisplay = dep => `${dep} | ${before[dep] || '-'} | ${after[dep] ? url(dep) : '-'}`\n\n  return [\n    Headers.join(' | '),\n    Headers.map(strToHyphen).join(' | '),\n    ...removed.map(depDisplay),\n    ...added.map(depDisplay),\n    ...updated.map(depDisplay)\n  ]\n}\n\nexport default (before, after, format) => {\n  const removed = []\n  const updated = []\n  const added = []\n\n  for (const dep of Object.keys(before)) {\n    if (!after[dep]) {\n      removed.push(dep)\n    } else {\n      if (before[dep] !== after[dep]) {\n        updated.push(dep)\n      }\n    }\n  }\n\n  for (const dep of Object.keys(after)) {\n    if (!before[dep]) {\n      added.push(dep)\n    }\n  }\n\n  if (format === 'table') return tableFormat(before, after, removed, added, updated)\n  return defaultFormat(before, after, removed, added, updated)\n}\n","import React from 'react'\nimport TextInput from './TextInput'\nimport ExampleBefore from '../example-before.json'\nimport ExampleAfter from '../example-after.json'\nimport GenerateDiff from '../generate-diff'\n\nclass Container extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.textInputChange = this.textInputChange.bind(this)\n    this.getDiff = this.getDiff.bind(this)\n\n    this.state = {\n      packageBefore: JSON.stringify(ExampleBefore, null, 2),\n      packageAfter: JSON.stringify(ExampleAfter, null, 2),\n      diff: []\n    }\n  }\n\n  textInputChange ({ id, value }) {\n    this.setState({ [id]: value })\n  }\n\n  getDiff () {\n    try {\n      const before = JSON.parse(this.state.packageBefore).dependencies\n      const after = JSON.parse(this.state.packageAfter).dependencies\n\n      const result = GenerateDiff(before, after, 'table')\n      this.setState({ diff: result })\n    } catch (e) {\n      console.log('ERROR')\n      console.log(e)\n    }\n  }\n\n  render () {\n    return (\n      <div>\n        <div style={{paddingBottom: '20px'}}>\n          This is just something small to help generate changes for release stories on clubhouse rather than have to manually write it :)\n        </div>\n\n        <TextInput id=\"packageBefore\" value={this.state.packageBefore} onTextInputChange={this.textInputChange} title=\"Paste package.json here BEFORE ncu -u\" />\n        <TextInput id=\"packageAfter\" value={this.state.packageAfter} onTextInputChange={this.textInputChange} title=\"Paste package.json here AFTER ncu -u\" />\n\n        <button onClick={this.getDiff}>Get diff</button>\n\n        <div>\n          <h3>{this.state.diff.length ? 'Output:' : ''}</h3>\n\n          {this.state.diff.map((e, i) => {\n            return (\n              <div key={i}>{e}</div>\n            )\n          })}\n        </div>\n\n        {\n          this.state.diff.length\n            ? <button onClick={() => navigator.clipboard.writeText(this.state.diff.join('\\n'))}>Copy to clipboard</button>\n            : ''\n        }\n      </div>\n    )\n  }\n}\n\nexport default Container\n","import React from 'react';\nimport './App.css';\nimport Container from './components/Container'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Container />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}